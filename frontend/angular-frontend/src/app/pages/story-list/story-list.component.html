<h1 class="text-white font-new">Opowiśći TaleLink</h1>


<button class="btn btn-primary mt-4 btn-lg" routerLink="new-tale">Start New Tale</button>
<div class="row mt-3">
  <div class="col-lg-4 col-md-6 col-sm-12 mb-2" *ngFor="let story of stories | slice:(page-1)*pageSize:page*pageSize">
    <div class="card mb-2 h-100">
      <div class="card-body d-flex flex-column">
        <div class="bg-white p-4 rounded">
        <h5 class="card-title">{{ story.title }}</h5><span><p class="card-text">Category: {{ story.category }}</p></span>
        
        <p class="card-text">Created: {{ story.timestamp | date :'short'}}</p>
        <p class="card-text">{{ story.text | slice:0:400 }}{{ story.text.length > 400 ? '...' : '' }}</p>
       
        
        
        <div class="mt-auto">
          <div class="d-flex flex-row">
            <p class="card-text">Updated: {{ story.updated | date :'short'}}</p>
            <span class="mx-2">-</span>
            <p class="card-text">Created by: {{ story.user }}</p>
          </div>
          <button class="btn btn-primary" (click)="viewStory(story.id)">View Tale</button>
          <button class="btn btn-danger mx-2" (click)="deleteStory(story.id)">Delete Tale</button>
        </div>
        </div>
      </div>
    </div>
    
</div>
<ngb-pagination [(page)]="page"  [pageSize]="pageSize" [collectionSize]="stories.length"></ngb-pagination>





  
